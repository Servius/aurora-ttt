local self = {}
CAC.LuaScanResult = CAC.MakeConstructor (self, CAC.LuaEntryPointCollection)

CAC.LuaScanResult.Networking =
{
	Events =
	{
	},
	Commands =
	{
	},
	CommandPermissionPredicate = function (sender, object, commandName)
		return CAC.Permissions.PlayerHasPermission (sender:GetPlayer (), "ViewMenu")
	end,
	
	FullUpdateHandler = function (self, object)
		for luaScanResultEntry in object:GetEnumerator () do
			self:AddChild (luaScanResultEntry, luaScanResultEntry:GetId (), self:IsReceiver () and CAC.LuaScanResultEntryReceiver or CAC.LuaScanResultEntrySender)
		end
	end,
	
	ObjectChangedHandler = function (self, lastObject, object)
		if lastObject then
			self:ClearChildren ()
		end
		if object then
			for luaScanResultEntry in object:GetEnumerator () do
				self:AddChild (luaScanResultEntry, luaScanResultEntry:GetId (), self:IsReceiver () and CAC.LuaScanResultEntryReceiver or CAC.LuaScanResultEntrySender)
			end
		end
	end
}

CAC.LuaScanResultSender   = CAC.CreateObjectSenderFactory   (CAC.LuaScanResult)
CAC.LuaScanResultReceiver = CAC.CreateObjectReceiverFactory (CAC.LuaScanResult)

CAC.SerializerRegistry:RegisterSerializable ("LuaScanResult", 1)

function self:ctor ()
	self.EntryClassName   = "LuaScanResultEntry"
	self.EntryConstructor = CAC.LuaScanResultEntry
	
	CAC.EventProvider (self)
end